<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>t_fileupload</title>
</head>

<body>
  <script src='https://unpkg.com/vue@2.2.6'></script>
  <script src="../dist/index_fileupload.min.js"></script>
  <a href="https://github.com/tengqingya" class="github-corner" aria-label="View source on Github">
  </a>
  <div id="app">
    <template>
      <fileupload @fileadd="fileAdd" @filedel="fileDel" :files="fileShow" :num="fileNum" :action="action"></fileupload>
      <!--action is your file upload address!!!-->
    </template>
  </div>
  <script>
//      import fileupload from 't_fileupload/dist/index_fileupload.min.js'
//      import fileupload from 't_fileupload'
      const removeArrByValue = (arr, val)=> {
          for(var i=0; i<arr.length; i++) {
              if(arr[i] == val) {
                  arr.splice(i, 1);
                  break;
              }
          }
      }

    var Main = {
      name: 'test',
      data() {
        return {
            fileList:[],
            fileShow:[],
            fileNum:3,
            action:"/manage/upload/pic"
        }
      },
      computed: {
      },
//        components: {fileupload},
      methods: {
          fileAdd:function (file) {
              this.fileList.push(file)
          },
          fileDel:function (file) {
              removeArrByValue(this.fileList,file)
          }
      }
    };
    var Ctor = Vue.extend(Main)
    new Ctor().$mount('#app')
  </script>
</body>

</html>
